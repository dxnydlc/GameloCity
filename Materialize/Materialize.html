
<form id="frmDiagPlaga" autocomplete="off" >
	<input type="hidden" id="id" name="id" value="" />
	<input type="hidden" id="uu_id" name="uu_id" value="" />
	<input type="hidden" id="Codigo" name="Codigo" value="" />

	<input type="hidden" id="Token" name="Token" value="" />
	<input type="hidden" id="IdLocal" name="IdLocal" value="" />
	<input type="hidden" id="Local" name="Local" value="" />
</form>

<div class="row">
    <div class="col s12 m12"></div>
    <div class="col s12 m3"></div>
    <div class="col s12 m3"></div>
    <div class="col s12 m3"></div>
    <div class="col s12 m3"></div>
</div>
<!-- ./row -->
<div class="row">
    <div class="col s1">1</div>
    <div class="col s1">2</div>
    <div class="col s1">3</div>
    <div class="col s1">4</div>
    <div class="col s1">5</div>
    <div class="col s1">6</div>
    <div class="col s1">7</div>
    <div class="col s1">8</div>
    <div class="col s1">9</div>
    <div class="col s1">10</div>
    <div class="col s1">11</div>
    <div class="col s1">12</div>
</div>
<!-- ./row -->

<div class="row">
    <div class="col s12">
        <span class="flow-text">This div is 12-columns wide on all screen sizes</span>
    </div>
    <div class="col s6 offset-s6">
        <span class="flow-text">6-columns (offset-by-6)</span>
    </div>
</div>
<!-- ./row -->

<div class="row">
    <div class="col m2 s12 ">
    </div>
    <div class="col m2 s12 "></div>
    <div class="col m2 s12 "></div>
    <div class="col m2 s12 "></div>
    <div class="col m2 s12 "></div>
    <div class="col m2 s12 ">
        <a id="btnGuardarFicha" class="waves-effect waves-light btn green darken-3  " ><i class="material-icons left">save</i>Guardar ficha</a>
        <div id="updatedAt" class=" center-align " ></div>
        <hr/>
    </div>
</div>
<!-- ./row -->





<!-- Caja de texto -->
<div class=" input-field " >
    <input id="UserName" name="UserName" type="text" class=" left-align " maxlength="150" data-length="150" />
    <label for="UserName">Email</label>
</div>

<!-- Numero -->
<div class=" input-field " >
    <input id="DNI" name="DNI" type="number" class=" left-align " maxlength="150" data-length="150" />
    <label for="DNI">DNI</label>
</div>

<!-- TextArea -->
<div class="input-field ">
    <textarea id="textarea1" name="Solicitud" class="materialize-textarea" ></textarea>
    <label for="textarea1">Textarea</label>
</div>
<!-- M.updateTextFields(); -->

<!-- Simple combo -->
<div class="input-field" >
    <select class=" browser-default " id="ClienteExiste" name="ClienteExiste" >
        <option value="" disabled selected>Seleccione</option>
        <option value="SI" >Si existe</option>
        <option value="NO" >No existe</option>
    </select>
    <label>Materialize Select</label>
</div>
<!--
    $('select').formSelect();
-->



<!-- Modal Structure -->
<div id="mdlLogin2" class=" modal modal-fixed-footer " >
    <div class="modal-content">
        <h4>Modal Header</h4>
        <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
        <a href="#!" id="btnCerraModalA" class="modal-close waves-effect btn-flat grey lighten-1 " >Cerrar</a>
    </div>
</div>
<!--
    var _elemModal = document.getElementById('mdlBscarFI');
    const mdlBscarFI = M.Modal.init(_elemModal, { dismissible : false , opacity : 0.6 } );
    $('.modal').modal();
    mdlLogin2.open();
-->


<a class="waves-effect waves-light btn green darken-3 "><i class="material-icons left">save</i>Guardar ficha</a>

<a class="waves-effect waves-light btn">button</a>
<a class="waves-effect waves-light btn"><i class="material-icons left">save</i>button</a>
<a class="waves-effect waves-light btn"><i class="material-icons right">cloud</i>button</a>


<a class="btn-floating btn-large waves-effect waves-light red"><i class="material-icons">add</i></a>





<!-- ============================================================== -->
<!-- Title and breadcrumb -->
<!-- ============================================================== -->
<div class="page-titles" >
    <div class="d-flex align-items-center" >
        <h5 class="font-medium m-b-0" >Dashboard</h5>
        <div class="custom-breadcrumb ml-auto" >
            <a href="#!" class="breadcrumb" >Inicio</a>
            <a href="#!" class="breadcrumb" >Advanced Initialisation</a>
        </div>
    </div>
</div>
<!-- ============================================================== -->
<div class="container-fluid" >COTENIDO</div>
<!-- ============================================================== -->




<!-- BOTON DE ACCION -->

<div class="fixed-action-btn">
    <a class="btn-floating btn-large red">
      <i class="large material-icons btnMenuFloat" >+</i>
    </a>
    <ul>
      <li><a class="btn-floating red"><i class="material-icons">insert_chart</i></a></li>
      <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
      <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
      <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
    </ul>
</div>

<!--
    $('.fixed-action-btn').floatingActionButton();
    $('.fixed-action-btn').floatingActionButton({
        direction    : 'left',
        hoverEnabled : false
    });
-->


<!-- CARD -->
<div class="card">
    <div class="card-content">
        <div class="card-title">Contenido primero</div>
        <p>Contenido del contenido primero</p>
    </div>
    <div class="card-action">
        <a href="#">This is a link</a>
    </div>
</div>




<!--
    
function call_ajax()
{
	//
	try {
		$('#wrapperTable').waitMe({
			effect  : 'facebook',
			text    : 'Espere...',
			bg      : 'rgba(255,255,255,0.7)',
			color   : '#146436',fontSize:'20px',textPos : 'vertical',
			onClose : function() {}
		});
		var _dataSerie = $('#frmDocumento').serialize();
		$.ajax({
			url     : `${_URL_NODE3}/api/`,
			method  : "POST",
			data    : _dataSerie ,
			dataType: "json",
			headers : {
				"api-token"  : _TokenUser,
				"user-token" : _token_node
			}
		})
		.done(function(  json ) {
			/**/
			switch (json.codigo) {
                case 200:
                    // negocio...
                    tostada2( json.resp );
                break;
                case 202:
                    // denegado...
                    tostada( json.title , json.texto , json.clase );
                break;
                default:
                break;
            }
			/**/
		})
		.fail(function(xhr, status, error) {
			get_Error( xhr );
			$('#wrapperTable').waitMe('hide');
		})
		.always(function() {
			$('#wrapperTable').waitMe('hide');
		});
	} catch (error) {
		alert( error );
		$('#wrapperTable').waitMe('hide');
	}
	//
}

function call_ajax()
{
	// - //
    var url = `${_urlServicio}`, metodo = `POST`;
    // - //
    var Id = parseInt( $('#frmDocumento #id').val() ),uu_id = $('#frmDocumento #uu_id').val()
    if( Id > 0 ){
        url = `${_urlServicio}${uu_id}`;
        metodo = `PUT`;
    }
	try {
		$('#wrapperTable').waitMe({
			effect  : 'facebook',
			text    : 'Espere...',
			bg      : 'rgba(255,255,255,0.7)',
			color   : '#146436',fontSize:'20px',textPos : 'vertical',
			onClose : function() {}
		});
		var _dataSerie = $('#frmDocumento').serialize();
		$.ajax({
			url     : url,
			method  : metodo,
			data    : _dataSerie ,
			dataType: "json",
			headers : {
				"api-token"  : _TokenUser,
				"user-token" : _token_node
			}
		})
		.done(function(  json ) {
			/**/
			switch (json.codigo) {
                case 200:
                    // negocio...
                    tostada2( json.resp );
                    getAll();
                break;
                case 202:
                    // denegado...
                    tostada( json.title , json.texto , json.clase );
                break;
                default:
                break;
            }
			/**/
		})
		.fail(function(xhr, status, error) {
			get_Error( xhr );
			$('#wrapperTable').waitMe('hide');
		})
		.always(function() {
			$('#wrapperTable').waitMe('hide');
		});
	} catch (error) {
		alert( error );
		$('#wrapperTable').waitMe('hide');
	}
	//
}


function renovarToken( obj )
{
    var length = 25;
    var result           = '';
    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var charactersLength = characters.length;
    for ( var i = 0; i < length; i++ ) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    result += '-';
    for ( var i = 0; i < length; i++ ) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    result += '-';
    for ( var i = 0; i < length; i++ ) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    $( obj ).val( result );   
}

/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
//
(function($){
	$(document).ready(function()
		{
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
			/* ------------------------------------------------------------- */
		});

})(jQuery);
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */
/* ------------------------------------------------------------- */




function dibuja_tablita( json , _target , _tipo )
{
    //
    var _htmlTabla = ``, _tableName = `wrapperTable`;
    switch (_tipo) {
        case 'CAB':
            _tableName = `wrapperTable`
            try {
                table.destroy();
            } catch (error) {}
        break;
        case 'DET':
            _tableName = `tblDetalle`
            try {
                tblDetalle.destroy();
            } catch (error) {}
        break;
    }

    _htmlTabla += `<table class=" table table-hover cell-border compact hover nowrap row-border table-striped table-hover " id="${_tableName}" cellspacing="0" width="100%" style="width:100%">`;

    if( json.length > 0 )
    {
        //
        _htmlTabla += `<thead>`;
        _htmlTabla += `<tr>`;
        // Dibujamos primero el head...
        $.each( json[0] , function( key, rs ){
            _htmlTabla += `<th>${key}</th>`;
        });
        _htmlTabla += `</tr>`;
        _htmlTabla += `</thead>`;

        // Ahora a dibujar el body...
        _htmlTabla += `<tbody>`;
        for (let index = 0; index < json.length; index++) {
            //
            const _rsData = json[index];
            _htmlTabla += `<tr>`;
            $.each( _rsData , function( key, rs ){
                _htmlTabla += `<td>${rs}</td>`;
            });
            _htmlTabla += `</tr>`;
            //
        }
        _htmlTabla += `</tbody>`;
        // 
    }else{
        _htmlTabla += `<thead>`;
        _htmlTabla += `<tr>`;
        _htmlTabla += `<th></th><th></th><th>No hay datos disponibles...</th>`;
        _htmlTabla += `</tr>`;
        _htmlTabla += `</thead>`;
        _htmlTabla += `<tbody></tbody>`;
    }
    _htmlTabla += `</table>`;
    // varDump( _htmlTabla );
    $(_target).html( _htmlTabla );
    // ##################### D ###########################
    setTimeout(function () {
		aplicarDataTable( _tipo , _target );
	}, 1000);
    // ##################### D ###########################
}
/* ------------------------------------------------------------- */
function aplicarDataTable( tipo )
{
    //
    var _opciones = {
        "pagingType": "full_numbers",
        "lengthMenu": [
        [25, 50, 100],
        [25, 50, 100]
        ],
        "searching" : true,
        "order"     : [[ 2, "desc" ]],
        "scrollX"   : true,
        buttons: [
        {
            extend: 'collection',
            exportOptions: {
            modifier: {
            page: 'all',
            search: 'none'   
            }
            },
            text: 'Exportar',
            buttons: [
            'copy','excel','csv','pdf', 'print'
            ]
        }
        ],
        language : {
        sProcessing: "Procesando...",
        sLengthMenu: "Mostrar _MENU_ registros",
        sZeroRecords: "No se encontraron resultados",
        sEmptyTable: "Ningún dato disponible en esta tabla",
        sInfo: "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
        sInfoEmpty: "Mostrando registros del 0 al 0 de un total de 0 registros",
        sInfoFiltered: "(filtrado de un total de _MAX_ registros)",
        sInfoPostFix: "",
        sSearch: "Buscar:",
        sUrl: "",
        sInfoThousands: ",",
        sLoadingRecords: "Cargando...",
        oPaginate: {
            sFirst: "|<",
            sLast: ">|",
            sNext: ">",
            sPrevious: "<",
        },
        oAria: {
            sSortAscending: ": Activar para ordenar la columna de manera ascendente",
            sSortDescending: ": Activar para ordenar la columna de manera descendente",
        }
        },
        dom: "<'row'<'col-sm-3'l><'col-sm-3'f><'col-sm-6'p>>" +
        "<'row'<'col-sm-12'tr>>" +
        "<'row'<'col-sm-5'i><'col-sm-7'p>>",
        "initComplete": function(settings, json) {
            $('#tblDatos').waitMe('hide');
        },
        "drawCallback": function( settings ) {
            var api = this.api();
            $('#tblDatos').waitMe('hide');
        }
    };
    //
    switch (tipo) {
        case 'CAB':
            //
            try {
                table.destroy();
            } catch (error) {
                //
            }
            table = $('#wrapperTable').DataTable( _opciones );
            table.columns.adjust().draw();
            //
        break;
        case 'DET':
            //
            try {
                tblDetalle.destroy();
            } catch (error) {
                //
            }
            tblDetalle = $('#tblDetalle').DataTable( _opciones );
            //tblDetalle.columns.adjust().draw();
            //
        break;
        default:
            //
        break;
    }
    //
}
/* ------------------------------------------------------------- */


-->